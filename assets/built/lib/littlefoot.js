!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).littlefoot={})}(this,(function(e){"use strict";var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function o(e,t){return e(t={exports:{}},t.exports),t.exports}var r=o((function(e){var n,o,r,i,a,c,u,s,l,f,d,p,v,h,m,y,g,b,w,_;!function(){var x,E,S="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:{};function O(e,t){return e!==S&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,o){return e[n]=t?t(n,o):o}}x=O(S,O(e.exports)),E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},n=function(e,t){function n(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},i=function(e,t,n,o){var r,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,o);else for(var c=e.length-1;0<=c;c--)(r=e[c])&&(a=(i<3?r(a):3<i?r(t,n,a):r(t,n))||a);return 3<i&&a&&Object.defineProperty(t,n,a),a},a=function(e,t){return function(n,o){t(n,o,e)}},c=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t,n,o){return new(n=n||Promise)((function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function c(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?r(e.value):new n((function(t){t(e.value)})).then(a,c)}u((o=o.apply(e,t||[])).next())}))},s=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(i){return function(c){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=0<(r=a.trys).length&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,c])}}},l=function(e,t){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])},f=function(e){var t="function"==typeof Symbol&&e[Symbol.iterator],n=0;return t?t.call(e):{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}}},d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),a=[];try{for(;(void 0===t||0<t--)&&!(o=i.next()).done;)a.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return a},p=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e},v=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,c=i.length;a<c;a++,r++)o[r]=i[a];return o},h=function(e){return this instanceof h?(this.v=e,this):new h(e)},m=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o,r=n.apply(e,t||[]),i=[];return o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o;function a(e){r[e]&&(o[e]=function(t){return new Promise((function(n,o){1<i.push([e,t,n,o])||c(e,t)}))})}function c(e,t){try{(n=r[e](t)).value instanceof h?Promise.resolve(n.value.v).then(u,s):l(i[0][2],n)}catch(e){l(i[0][3],e)}var n}function u(e){c("next",e)}function s(e){c("throw",e)}function l(e,t){e(t),i.shift(),i.length&&c(i[0][0],i[0][1])}},y=function(e){var t,n;return t={},o("next"),o("throw",(function(e){throw e})),o("return"),t[Symbol.iterator]=function(){return this},t;function o(o,r){t[o]=e[o]?function(t){return(n=!n)?{value:h(e[o](t)),done:"return"===o}:r?r(t):t}:r}},g=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=f(e),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(n){t[n]=e[n]&&function(t){return new Promise((function(o,r){var i,a,c,u;t=e[n](t),i=o,a=r,c=t.done,u=t.value,Promise.resolve(u).then((function(e){i({value:e,done:c})}),a)}))}}},b=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},w=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},_=function(e){return e&&e.__esModule?e:{default:e}},x("__extends",n),x("__assign",o),x("__rest",r),x("__decorate",i),x("__param",a),x("__metadata",c),x("__awaiter",u),x("__generator",s),x("__exportStar",l),x("__values",f),x("__read",d),x("__spread",p),x("__spreadArrays",v),x("__await",h),x("__asyncGenerator",m),x("__asyncDelegator",y),x("__asyncValues",g),x("__makeTemplateObject",b),x("__importStar",w),x("__importDefault",_)}()}));n(r);var i=r.__assign,a=o((function(e,t){t.__esModule=!0,t.getStyle=function(e,t){var n,o=((null===(n=e.ownerDocument)||void 0===n?void 0:n.defaultView)||window).getComputedStyle(e);return o.getPropertyValue(t)||o[t]}}));n(a);var c=a.getStyle,u="littlefoot-footnote__content",s="littlefoot-footnote__tooltip",l="littlefoot-footnote__wrapper",f="is-positioned-",d="bottom";function p(e){var t=parseFloat(c(e,"marginLeft")),n=e.offsetWidth-t,o=e.offsetHeight,r=e.getBoundingClientRect(),i=r.left+n/2,a=r.top+o/2;return{top:a,bottom:window.innerHeight-a,leftRelative:i/window.innerWidth}}function v(e,t){var n=2*parseInt(c(e,"marginTop"),10)+e.offsetHeight;return t.bottom<n&&t.bottom<t.top}function h(e){var t;null!==(t=e.parentNode)&&void 0!==t&&t.removeChild(e)}var m={activateDelay:100,activateOnHover:!1,allowDuplicates:!0,allowMultiple:!1,anchorParentSelector:"sup",anchorPattern:/(fn|footnote|note)[:\-_\d]/gi,dismissDelay:100,dismissOnUnhover:!1,footnoteSelector:"li",hoverDelay:250,numberResetSelector:"",scope:"",contentTemplate:'<aside class="littlefoot-footnote" id="fncontent:<% id %>" alt="Footnote <% number %>" aria-live="polite"><div class="'+l+'"><div class="'+u+'" tabindex="0"><% content %></div></div><div class="'+s+'"></div></aside>',buttonTemplate:'<button class="littlefoot-footnote__button littlefoot-footnote__button__ellipsis" id="<% reference %>" title="See Footnote <% number %>" aria-controls="fncontent:<% id %>" aria-expanded="false" aria-label="Footnote <% number %>" rel="footnote"><svg viewbox="0 0 31 6" preserveAspectRatio="xMidYMid"><circle r="3" cx="3" cy="3" fill="white"></circle><circle r="3" cx="15" cy="3" fill="white"></circle><circle r="3" cx="27" cy="3" fill="white"></circle></svg></button>'};function y(e,t){e.isReady()&&(e.dismiss(),setTimeout((function(){e.remove()}),t))}var g=o((function(e,t){t.__esModule=!0;var n=96,o=25.4;function r(e){return e?a.getStyle(e,"fontSize")||r(e.parentElement):a.getStyle(window.document.documentElement,"fontSize")}t.pixels=function e(t,i){var a,c,u,s,l,f=null!=(c=null===(a=null==i?void 0:i.ownerDocument)||void 0===a?void 0:a.defaultView)?c:window,d=f.document.documentElement||f.document.body,p=(s=t||"0",[parseFloat(s),(null!=(u=null==(l=s.match(/[\d-.]+(\w+)$/))?void 0:l[1])?u:"").toLowerCase()]),v=p[0];switch(p[1]){case"rem":return v*e(r(window.document.documentElement));case"em":return v*e(r(i),null==i?void 0:i.parentElement);case"in":return v*n;case"q":return v*n/o/4;case"mm":return v*n/o;case"cm":return v*n*10/o;case"pt":return v*n/72;case"pc":return v*n/6;case"vh":return(v*f.innerHeight||d.clientWidth)/100;case"vw":return(v*f.innerWidth||d.clientHeight)/100;case"vmin":return v*Math.min(f.innerWidth||d.clientWidth,f.innerHeight||d.clientHeight)/100;case"vmax":return v*Math.max(f.innerWidth||d.clientWidth,f.innerHeight||d.clientHeight)/100;default:return v}}}));n(g);var b=g.pixels,w="is-active",_="is-changing";function x(e){var t=e.id,n=e.button,o=e.content,r=e.host,i=e.popover,a=e.wrapper,u=!1,l=0;return{id:t,activate:function(e){n.classList.add(_),n.setAttribute("aria-expanded","true"),n.classList.add(w),n.insertAdjacentElement("afterend",i),i.style.maxWidth=document.body.clientWidth+"px";var t=c(o,"maxHeight");l=Math.round(b(t,o)),"function"==typeof e&&e(i,n)},dismiss:function(){n.classList.add(_),n.blur(),n.setAttribute("aria-expanded","false"),n.classList.remove(w)},isActive:function(){return n.classList.contains(w)},isReady:function(){return!n.classList.contains(_)},isHovered:function(){return u},ready:function(){i.classList.add(w),n.classList.remove(_)},remove:function(){h(i),n.classList.remove(_)},reposition:function(){if(i.parentElement){var e=p(n),t=Math.min(l,(g=v(m=i,y=e),b=parseInt(c(m,"marginTop"),10),y[g?"top":d]-b-15));o.style.maxHeight=t+"px",u=v(r=i,a=e),(s=r.dataset.footnotePosition)!==(h=u?"top":d)&&(r.dataset.footnotePosition=h,r.classList.remove(""+f+s),r.classList.add(""+f+h),r.style.transformOrigin=100*a.leftRelative+"% "+(u?"100%":"0")),i.offsetHeight<=o.scrollHeight&&i.classList.add("is-scrollable")}var r,a,u,s,h,m,y,g,b},resize:function(){if(i.parentElement){var e=p(n),t=o.offsetWidth,r=parseInt(c(n,"marginLeft"),10),u=-e.leftRelative*t+r+n.offsetWidth/2;i.style.left=u+"px",a.style.maxWidth=t+"px",l=i,f=e.leftRelative,(d=l.querySelector("."+s))&&(d.style.left=100*f+"%")}var l,f,d},startHovering:function(){u=!0},stopHovering:function(){u=!1},destroy:function(){h(r)}}}var E=o((function(e,t){t.__esModule=!0,t.throttle=function(e,t){void 0===t&&(t=0);var n,o=0;return Object.assign((function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var a=Math.max(0,o+t-Date.now());a?(clearTimeout(n),n=setTimeout((function(){o=Date.now(),e.apply(void 0,r)}),a)):(o=Date.now(),e.apply(void 0,r))}),{cancel:function(){o=0,clearTimeout(n)}})}}));n(E);var S=E.throttle,O=o((function(e,t){e.exports=function(){function e(){if(!(this instanceof e))return new e;this.size=0,this.uid=0,this.selectors=[],this.selectorObjects={},this.indexes=Object.create(this.indexes),this.activeIndexes=[]}var t=window.document.documentElement,n=t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.oMatchesSelector||t.msMatchesSelector;e.prototype.matchesSelector=function(e,t){return n.call(e,t)},e.prototype.querySelectorAll=function(e,t){return t.querySelectorAll(e)};var o=/^#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;(e.prototype.indexes=[]).push({name:"ID",selector:function(e){var t;if(t=e.match(o))return t[0].slice(1)},element:function(e){if(e.id)return[e.id]}});var r=/^\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;e.prototype.indexes.push({name:"CLASS",selector:function(e){var t;if(t=e.match(r))return t[0].slice(1)},element:function(e){var t=e.className;if(t){if("string"==typeof t)return t.split(/\s/);if("object"==typeof t&&"baseVal"in t)return t.baseVal.split(/\s/)}}});var i,a=/^((?:[\w\u00c0-\uFFFF\-]|\\.)+)/g;e.prototype.indexes.push({name:"TAG",selector:function(e){var t;if(t=e.match(a))return t[0].toUpperCase()},element:function(e){return[e.nodeName.toUpperCase()]}}),e.prototype.indexes.default={name:"UNIVERSAL",selector:function(){return!0},element:function(){return[!0]}},i="function"==typeof window.Map?window.Map:function(){function e(){this.map={}}return e.prototype.get=function(e){return this.map[e+" "]},e.prototype.set=function(e,t){this.map[e+" "]=t},e}();var c=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g;function u(e,t){var n,o,r,i,a,u,s=(e=e.slice(0).concat(e.default)).length,l=t,f=[];do{if(c.exec(""),(r=c.exec(l))&&(l=r[3],r[2]||!l))for(n=0;n<s;n++)if(a=(u=e[n]).selector(r[1])){for(o=f.length,i=!1;o--;)if(f[o].index===u&&f[o].key===a){i=!0;break}i||f.push({index:u,key:a});break}}while(r);return f}function s(e,t){var n,o,r;for(n=0,o=e.length;n<o;n++)if(r=e[n],t.isPrototypeOf(r))return r}function l(e,t){return e.id-t.id}return e.prototype.logDefaultIndexUsed=function(){},e.prototype.add=function(e,t){var n,o,r,a,c,l,f,d,p=this.activeIndexes,v=this.selectors,h=this.selectorObjects;if("string"==typeof e){for(h[(n={id:this.uid++,selector:e,data:t}).id]=n,f=u(this.indexes,e),o=0;o<f.length;o++)a=(d=f[o]).key,(c=s(p,r=d.index))||((c=Object.create(r)).map=new i,p.push(c)),r===this.indexes.default&&this.logDefaultIndexUsed(n),(l=c.map.get(a))||(l=[],c.map.set(a,l)),l.push(n);this.size++,v.push(e)}},e.prototype.remove=function(e,t){if("string"==typeof e){var n,o,r,i,a,c,s,l,f=this.activeIndexes,d=this.selectors=[],p=this.selectorObjects,v={},h=1===arguments.length;for(n=u(this.indexes,e),r=0;r<n.length;r++)for(o=n[r],i=f.length;i--;)if(c=f[i],o.index.isPrototypeOf(c)){if(s=c.map.get(o.key))for(a=s.length;a--;)(l=s[a]).selector!==e||!h&&l.data!==t||(s.splice(a,1),v[l.id]=!0);break}for(r in v)delete p[r],this.size--;for(r in p)d.push(p[r].selector)}},e.prototype.queryAll=function(e){if(!this.selectors.length)return[];var t,n,o,r,i,a,c,u,s={},f=[],d=this.querySelectorAll(this.selectors.join(", "),e);for(t=0,o=d.length;t<o;t++)for(i=d[t],n=0,r=(a=this.matches(i)).length;n<r;n++)s[(u=a[n]).id]?c=s[u.id]:(c={id:u.id,selector:u.selector,data:u.data,elements:[]},s[u.id]=c,f.push(c)),c.elements.push(i);return f.sort(l)},e.prototype.matches=function(e){if(!e)return[];var t,n,o,r,i,a,c,u,s,f,d,p=this.activeIndexes,v={},h=[];for(t=0,r=p.length;t<r;t++)if(u=(c=p[t]).element(e))for(n=0,i=u.length;n<i;n++)if(s=c.map.get(u[n]))for(o=0,a=s.length;o<a;o++)!v[d=(f=s[o]).id]&&this.matchesSelector(e,f.selector)&&(v[d]=!0,h.push(f));return h.sort(l)},e}()})),L=o((function(e,t){!function(e,t){t=t&&t.hasOwnProperty("default")?t.default:t;var n={},o={},r=new WeakMap,i=new WeakMap,a=new WeakMap,c=Object.getOwnPropertyDescriptor(Event.prototype,"currentTarget");function u(e,t,n){var o=e[t];return e[t]=function(){return n.apply(e,arguments),o.apply(e,arguments)},e}function s(){r.set(this,!0)}function l(){r.set(this,!0),i.set(this,!0)}function f(){return a.get(this)||null}function d(e,t){c&&Object.defineProperty(e,"currentTarget",{configurable:!0,enumerable:!0,get:t||c.get})}function p(e){var t=(1===e.eventPhase?o:n)[e.type];if(t){var c=function(e,t,n){var o=[],r=t;do{if(1!==r.nodeType)break;var i=e.matches(r);if(i.length){var a={node:r,observers:i};n?o.unshift(a):o.push(a)}}while(r=r.parentElement);return o}(t,e.target,1===e.eventPhase);if(c.length){u(e,"stopPropagation",s),u(e,"stopImmediatePropagation",l),d(e,f);for(var p=0,v=c.length;p<v&&!r.get(e);p++){var h=c[p];a.set(e,h.node);for(var m=0,y=h.observers.length;m<y&&!i.get(e);m++)h.observers[m].data.call(h.node,e)}a.delete(e),d(e)}}}e.fire=function(e,t,n){return e.dispatchEvent(new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n}))},e.off=function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=!!i.capture,c=a?o:n,u=c[e];u&&(u.remove(t,r),u.size||(delete c[e],document.removeEventListener(e,p,a)))},e.on=function(e,r,i){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=!!a.capture,u=c?o:n,s=u[e];s||(s=new t,u[e]=s,document.addEventListener(e,p,c)),s.add(r,i)},Object.defineProperty(e,"__esModule",{value:!0})}(t,O)}));n(L);var P,j,M=L.off,T=L.on,H="[data-footnote-id]",A="is-fully-scrolled";function k(e){return e.target}function D(e){return null==e?void 0:e.dataset.footnoteId}function I(){if(void 0===P){j=c(document.body,"paddingRight"),P=c(document.body,"overflow");var e=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=e+"px"}}function R(){P&&(document.body.style.overflow=P,P=void 0),j&&(document.body.style.paddingRight=j,j=void 0)}function W(e,t){return function(n){n.preventDefault();var o=D(k(n).closest(H)),r=o&&e(o);r&&t(r)}}function F(e){var t,n,o,r,i=e.dismissAll,a=e.lookup,c=e.hover,u=e.repositionAll,s=e.resizeAll,l=e.toggle,f=e.unhover,d=(t=a,n=l,function(e){var r=D(k(e).closest("[data-footnote-button]")),i=r&&t(r);i?n(i):k(e).closest("[data-footnote-popover]")||o()}),p=(r=o=i,function(e){27===e.keyCode&&(R(),r())}),v=S(u,16),h=S(s,16),m=W(a,c),y=W(a,f);return document.addEventListener("touchend",d),document.addEventListener("click",d),document.addEventListener("keyup",p),document.addEventListener("gestureend",v),window.addEventListener("scroll",v),window.addEventListener("resize",h),T("mouseover",H,m),T("mouseout",H,y),function(){document.removeEventListener("touchend",d),document.removeEventListener("click",d),document.removeEventListener("keyup",p),document.removeEventListener("gestureend",v),window.removeEventListener("scroll",v),window.removeEventListener("resize",h),M("mouseover",H,m),M("mouseout",H,y)}}var z="footnote-print-only",C=function(e){return e.classList.add(z)};function q(e,t){return Array.from(e.querySelectorAll(t))}function N(e,t){return e.querySelector("."+t)||e.firstElementChild||e}function U(e){var t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function V(e){return void 0!==e}function G(e){var t=e.parentElement;h(e);var n=null==t?void 0:t.innerHTML.replace("[]","").replace("&nbsp;"," ").trim();t&&!n&&G(t)}function $(e,t){var n=e.body.cloneNode(!0);return q(n,'[href$="#'+e.referenceId+'"]').forEach(G),{original:e,data:{id:""+(t+1),number:t+1,reference:e.referenceId,content:n.innerHTML.startsWith("<")?n.innerHTML:"<p>"+n.innerHTML+"</p>"}}}var B=function(e){var t=0,n=null;return function(o){var r=o.original,a=o.data,c=r.reference.closest(e);return t=n===c?t+1:1,n=c,{original:r,data:i(i({},a),{number:t})}}};function Y(e){var t=/<%=?\s*(\w+?)\s*%>/g;return function(n){return e.replace(t,(function(e,t){var o;return String(null!=(o=n[t])?o:"")}))}}function J(e){var t,n,o,r,i,a,c,s,f,d=e.allowDuplicates,p=e.anchorParentSelector,v=e.anchorPattern,h=e.buttonTemplate,m=e.contentTemplate,y=e.footnoteSelector,g=e.numberResetSelector,b=e.scope,w=(s=document,f=v,q(s,b+' a[href*="#"]').filter((function(e){return(e.href+e.rel).match(f)})).map((o=document,r=d,i=p,a=y,c=[],function(e){var t="#"+e.href.split("#")[1].replace(/[:.+~*[\]]/g,"\\$&"),n=q(o,t).find((function(e){return r||!c.includes(e)})),u=null==n?void 0:n.closest(a);if(u){c.push(u);var s=e.closest(i)||e;return{reference:s,referenceId:s.id||e.id,body:u}}})).filter(V).map($).map(g?B(g):function(e){return e}).map((t=Y(h),n=Y(m),function(e){var o=e.original,r=e.data,i=r.id,a=U('<span class="littlefoot-footnote__host">'+t(r)+"</span>"),c=a.firstElementChild;c.dataset.footnoteButton="",c.dataset.footnoteId=i,c.dataset.footnoteNumber=""+r.number;var s=U(n(r));s.dataset.footnotePopover="",s.dataset.footnoteId=i;var f=N(s,l),d=N(s,u);return function(e,t){var n;e.addEventListener("wheel",S((n=t,function(e){var t=e.currentTarget,o=-e.deltaY;0<o&&n.classList.remove(A),t&&o<=0&&o<t.clientHeight+t.scrollTop-t.scrollHeight&&n.classList.add(A)}),16)),e.addEventListener("mouseover",I),e.addEventListener("mouseout",R)}(d,s),{original:o,data:r,id:i,button:c,host:a,popover:s,content:d,wrapper:f}})));return w.forEach((function(e){var t,n=e.original,o=e.host;C(n.reference),C(n.body),function e(t){var n,o,r=(n=t,o=":not(."+z+")",Array.from(n.children).filter((function(e){return 8!==e.nodeType&&e.matches(o)}))),i=r.filter((function(e){return"HR"===e.tagName}));r.length===i.length&&(i.concat(t).forEach(C),e(t.parentElement))}(n.body.parentElement),t=o,n.reference.insertAdjacentElement("beforebegin",t)})),w.map(x)}function K(e){e.forEach((function(e){return e.destroy()})),q(document,"."+z).forEach((function(e){return e.classList.remove(z)}))}function Q(e){void 0===e&&(e={});var t,n,o,r,a,c=i(i({},m),e),u=(o=(t={setup:J,addListeners:F,cleanup:K}).setup(n=c),r={activate:s,dismiss:y,lookup:function(e){return o.find((function(t){return t.id===e}))},dismissAll:function(){o.forEach((function(e){return y(e,n.dismissDelay)}))},repositionAll:function(){o.forEach((function(e){return e.reposition()}))},resizeAll:function(){o.forEach((function(e){return e.resize()}))},toggle:function(e){e.isActive()?y(e,n.dismissDelay):s(e,n.activateDelay)},hover:function(e){e.startHovering(),n.activateOnHover&&!e.isActive()&&s(e,n.hoverDelay)},unhover:function(e){e.stopHovering(),n.dismissOnUnhover&&setTimeout((function(){o.filter((function(e){return!e.isHovered()})).forEach((function(e){return y(e,n.dismissDelay)}))}),n.hoverDelay)}},a=t.addListeners(r),i(i({},r),{unmount:function(){a(),t.cleanup(o)}}));function s(e,t){n.allowMultiple||o.filter((function(t){return t.id!==e.id})).forEach((function(e){return y(e,n.dismissDelay)})),e.isReady()&&(e.activate(n.activateCallback),e.reposition(),e.resize(),setTimeout((function(){e.ready()}),t))}return{activate:function(e,t){void 0===t&&(t=c.activateDelay);var n=u.lookup(e);n&&u.activate(n,t)},dismiss:function(e,t){void 0===t&&(t=c.dismissDelay);var n=e&&u.lookup(e);n?u.dismiss(n,t):u.dismissAll()},unmount:u.unmount,getSetting:function(e){return c[e]},updateSetting:function(e,t){c[e]=t}}}e.default=Q,e.littlefoot=Q,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=littlefoot.js.map